<!-- To include a file using ejs -->
<%- include('includes/_header') %>

<main id="site-main">
    <div class="container">
        <div class="box-nav d-flex justify-between">
            <div class="filter">
                <a href="/" class="btno">HOME</a>
            </div>
        </div>
        <div class="form-title text-center">
            <h2 class="text-dark">Update user</h2>
            <span class="text-light">Use the below from to update a account</span>
        </div>

        <form id="update_user" method="POST">
            <div class="new_user">
                <div class="form-group">
                    <label for="name" class="text-light">Name</label>
                    <input type="hidden" name="id" value="<%= user.id %>">
                    <input type="text" name="name" value="<%= user.name %>" placeholder="sam">
                </div>
                <div class="form-group">
                    <label for="email" class="text-light">Email</label>
                    <input type="text" name="email" value="<%= user.email %>" placeholder="sam@gmail.com">
                </div>
                <div class="form-group">
                    <label for="gender" class="text-light">Gender</label>
                    <div class="radio inline">
                        <input type="radio" name="gender" value="male" <%= user.gender=='male'?'checked':"" %>>
                        <label for="gender" class="text-light">Male</label>
                    </div>
                    <div class="radio inline">
                        <input type="radio" name="gender" value="female" <%= user.gender=='female'?'checked':"" %>>
                        <label for="gender" class="text-light">Female</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="status" class="text-light">Status</label>
                    <div class="radio inline">
                        <input type="radio" name="status" value="active" <%= user.status=='active'?'checked':"" %>>
                        <label for="status" class="text-light">Active</label>
                    </div>
                    <div class="radio inline">
                        <input type="radio" name="status" value="inactive" <%= user.status=='inactive'?'checked':"" %>>
                        <label for="status" class="text-light">Inactive</label>
                    </div>
                </div>
                <div class="form-group">
                    <button class="btn text-dark update">Save</button>
                </div>
            </div>
        </form>

    </div>
</main>

<%- include('includes/_footer') %>




<!-- 
    For PUT method use following

    $("#update_user_btn").submit(function(event){
        event.preventDefault();

        var unindexed_array=$(this).serializeArray();
        var data={}

        $.map(unindexed_array,function(n,i){
            data[n['name']]=n['value']
        })

        console.log(data)

        var request={
            "url":`http://localhost:3000/api/users/${data.id}`,
            "method":"PUT",
            "data":data
        }

        $ajax(request).done(function(response){
            alert("Data updated successfully")
        })
    })
-->
